<link rel="import" href="code-mirror.html">
<link rel="import" href="settings-page/settings-page.html">

<polymer-element
    name="code-editor"
    constructor="CodeEditor"
    on-dirty-changed="{{updateTitle}}"
    >
<template>
    <link rel="stylesheet" href="code-editor.css">

    <fire-ui-toolbar class="topbar">
        <fire-ui-button on-click="{{saveAction}}">
            <i class="fa fa-file-o"></i>
            Save
        </fire-ui-button>
        <div class="space"></div>

        <fire-ui-button on-click="{{reloadAction}}">
            <i class="fa fa-rotate-right"></i>
            Reload
        </fire-ui-button>
        <div class="space"></div>

        <fire-ui-button on-click="{{settingsAction}}">
            <i class="fa fa-gear"></i>
            Settings
        </fire-ui-button>
        <div class="space"></div>

        <fire-ui-button on-click="{{autoFormatAction}}">
            <i class="fa fa-rotate-right"></i>
            AutoFormat
        </fire-ui-button>
    </fire-ui-toolbar>
    <div id="codeArea">
        <code-mirror id="mirror"></code-mirror>
    </div>
    <span class="status-bar">
        <fire-ui-toolbar justify-between>
            <div flex-row>
                <div class="space"></div>

                <fire-ui-label class="label" >Line {{$.mirror.cursor.line+1}}, Column {{$.mirror.cursor.ch}}</fire-ui-label>
                <div class="space"></div>

                <fire-ui-label class="label" > {{$.mirror.lineCount}} â€” lines</fire-ui-label>
                <div class="space"></div>

                <fire-ui-label class="label" >{{$.mirror.jshintError}}</fire-ui-label>
                <div class="space"></div>

            </div>

            <div flex-row>
                <fire-ui-label>Key Map: </fire-ui-label>
                <div class="space"></div>
                <fire-ui-select id="keymapSelect" value="{{$.mirror.keyMap}}"></fire-ui-select>
                <div class="space"></div>

                <fire-ui-label>Theme: </fire-ui-label>
                <div class="space"></div>
                <fire-ui-select id="themeSelect" searchable value="{{$.mirror.theme}}"></fire-ui-select>
                <div class="space"></div>

                <fire-ui-label>Mode: </fire-ui-label>
                <div class="space"></div>
                <fire-ui-select id="modeSelect" searchable value="{{$.mirror.mode}}"></fire-ui-select>
                <div class="space"></div>
            </div>
        </fire-ui-toolbar>
    </span>
</template>

<script type="text/javascript" src="code-editor.js"></script>
</polymer-element>
